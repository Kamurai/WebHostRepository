<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <c:choose>
        <c:when test="#{LoginBean.currentUser.loggedOn}">
            <title>
                Show Over!
            </title>
            <h2>
                The User List!
            </h2>
            <p id="idCenterContent">
                This is a list of the users on Show Over.<br/>
                <table id="idTableManagementStats">
                    <!--User Count Headers -->
                    <tr>
                        <td>Basic Users</td>
                        <td>Managers</td>
                        <td>Administrators</td>
                        <td>Into Comedy</td>
                        <td>Into Drama</td>
                        <td>Into Action</td>
                        <td>Into Horror</td>                        
                        <td>Into Thrillers</td>
                        <td>Into Mystery</td>
                        <td>Into Documentaries</td>
                        <td>Into Science Fiction</td>
                        <td>Into Fantasy</td>
                        <td>Into Western</td>
                        <td>Into Martial Arts</td>
                        <td>Into Modern</td>
                        <td>Into Historic</td>
                        <td>Into Prehistoric</td>
                        <td>Into Comics</td>
                        <td>Into Period</td>
                        <td>Users Online</td>
                    </tr>
                    <!--User Counts -->
                    <!--<c:set value="#{ManagementBean.setUserCounts()}" var="tickle"></c:set>-->
                    <tr>
                        <ui:repeat var="x" value="#{ManagementBean.uc}" size="#{ManagementBean.getUCSize()}" varStatus="myVarStatus">
                            <td><h:outputText value="#{x[0]}" /></td>
                        </ui:repeat>
                    </tr>
                </table>
                <br/>
                <br/>
                <h:dataTable id="idTableManagementUsers" value="#{ManagementBean.dataModel}" var="user"
                    styleClass="idTableManagementUsers"
                    headerClass="classTableManagementHeader"
                    rowClasses="classTableManagementRow"
                    columnClasses="classTableManagementUsersColIndex,
                    classTableManagementUsersColUsername,
                    classTableManagementUsersColEmail,
                    classTableManagementUsersColAdminLevel,
                    classTableManagementUsersColComedyS,
                    classTableManagementUsersColDramaS,
                    classTableManagementUsersColActionS,
                    classTableManagementUsersColHorrorS,
                    classTableManagementUsersColThrillerS,
                    classTableManagementUsersColMysteryS,
                    classTableManagementUsersColDocumentaryS,
                    classTableManagementUsersColScienceFictionS,
                    classTableManagementUsersColFantasyS,
                    classTableManagementUsersColWesternS,
                    classTableManagementUsersColMartialArtsS,
                    classTableManagementUsersColModernS,
                    classTableManagementUsersColHistoricS,
                    classTableManagementUsersColPrehistoricS,
                    classTableManagementUsersColComicsS,
                    classTableManagementUsersColPeriodS,
                    classTableManagementUsersColLoggedOn            
                    ">
                    <h:column> 
                        <f:facet id="idTableManagementUsersColHeaderIndex" name="header">#</f:facet>
                        #{ManagementBean.dataModel.rowIndex + 1}
                    </h:column>
                    <h:column>    				
                        <f:facet id="idTableManagementUsersColHeaderUsername" name = "header">Username</f:facet>    				
                        #{user.username}
                    </h:column>
                    <h:column>
                        <f:facet id="idTableManagementUsersColHeaderEmail" name = "header">Email</f:facet>
                        #{user.email}
                    </h:column>
                    <h:column>
                        <f:facet id="idTableManagementUsersColHeaderAdminLevel" name = "header">Admin Level</f:facet>
                        <h:selectOneMenu value="#{user.adminLevel}" onchange="submit()" valueChangeListener="#{ManagementBean.UpdateUser}" immediate="true" >
                            <f:selectItem itemValue="2" itemLabel="Admin" />
                            <f:selectItem itemValue="1" itemLabel="Manager"/>
                            <f:selectItem itemValue="0" itemLabel="Basic"/>
                        </h:selectOneMenu>
                    </h:column>
                    <h:column>
                        <f:facet id="idTableManagementUsersColHeaderComedyS" name = "header">Into Comedy</f:facet>
                        <ui:fragment rendered="#{user.comedyS}">
                            <h:outputText value="Yes" />
                        </ui:fragment>
                        <ui:fragment rendered="#{!user.comedyS}">
                            <h:outputText value="No" />
                        </ui:fragment>
                    </h:column>
                    <h:column>
                        <f:facet id="idTableManagementUsersColHeaderDramaS" name = "header">Into Drama</f:facet>
                        <ui:fragment rendered="#{user.dramaS}">
                            <h:outputText value="Yes" />
                        </ui:fragment>
                        <ui:fragment rendered="#{!user.dramaS}">
                            <h:outputText value="No" />
                        </ui:fragment>
                    </h:column>
                    <h:column>
                        <f:facet id="idTableManagementUsersColHeaderActionS" name = "header">Into Action</f:facet>
                        <ui:fragment rendered="#{user.actionS}">
                            <h:outputText value="Yes" />
                        </ui:fragment>
                        <ui:fragment rendered="#{!user.actionS}">
                            <h:outputText value="No" />
                        </ui:fragment>
                    </h:column>
                    <h:column>
                        <f:facet id="idTableManagementUsersColHeaderHorrorS" name = "header">Into Horror</f:facet>
                        <ui:fragment rendered="#{user.horrorS}">
                            <h:outputText value="Yes" />
                        </ui:fragment>
                        <ui:fragment rendered="#{!user.horrorS}">
                            <h:outputText value="No" />
                        </ui:fragment>
                    </h:column>
                    <h:column>
                        <f:facet id="idTableManagementUsersColHeaderThrillerS" name = "header">Into Thrillers</f:facet>
                        <ui:fragment rendered="#{user.thrillerS}">
                            <h:outputText value="Yes" />
                        </ui:fragment>
                        <ui:fragment rendered="#{!user.thrillerS}">
                            <h:outputText value="No" />
                        </ui:fragment>
                    </h:column>
                    <h:column>
                        <f:facet id="idTableManagementUsersColHeaderMysteryM" name = "header">Into Thrillers</f:facet>
                        <ui:fragment rendered="#{user.mysteryS}">
                            <h:outputText value="Yes" />
                        </ui:fragment>
                        <ui:fragment rendered="#{!user.mysteryS}">
                            <h:outputText value="No" />
                        </ui:fragment>
                    </h:column>
                    <h:column>
                        <f:facet id="idTableManagementUsersColHeaderDocumentaryM" name = "header">Into Documentaries</f:facet>
                        <ui:fragment rendered="#{user.documentaryS}">
                            <h:outputText value="Yes" />
                        </ui:fragment>
                        <ui:fragment rendered="#{!user.documentaryS}">
                            <h:outputText value="No" />
                        </ui:fragment>
                    </h:column>
                    <h:column>
                        <f:facet id="idTableManagementUsersColHeaderScienceFictionS" name = "header">Into Science Fiction</f:facet>
                        <ui:fragment rendered="#{user.scienceFictionS}">
                            <h:outputText value="Yes" />
                        </ui:fragment>
                        <ui:fragment rendered="#{!user.scienceFictionS}">
                            <h:outputText value="No" />
                        </ui:fragment>
                    </h:column>
                    <h:column>
                        <f:facet id="idTableManagementUsersColHeaderFantasyS" name = "header">Into Fantasy</f:facet>
                        <ui:fragment rendered="#{user.fantasyS}">
                            <h:outputText value="Yes" />
                        </ui:fragment>
                        <ui:fragment rendered="#{!user.fantasyS}">
                            <h:outputText value="No" />
                        </ui:fragment>
                    </h:column>
                    <h:column>
                        <f:facet id="idTableManagementUsersColHeaderWesternS" name = "header">Into Westerns</f:facet>
                        <ui:fragment rendered="#{user.westernS}">
                            <h:outputText value="Yes" />
                        </ui:fragment>
                        <ui:fragment rendered="#{!user.westernS}">
                            <h:outputText value="No" />
                        </ui:fragment>
                    </h:column>
                    <h:column>
                        <f:facet id="idTableManagementUsersColHeaderMartialArtsS" name = "header">Into Martial Arts</f:facet>
                        <ui:fragment rendered="#{user.martialArtsS}">
                            <h:outputText value="Yes" />
                        </ui:fragment>
                        <ui:fragment rendered="#{!user.martialArtsS}">
                            <h:outputText value="No" />
                        </ui:fragment>
                    </h:column>
                    <h:column>
                        <f:facet id="idTableManagementUsersColHeaderModernM" name = "header">Into Modern</f:facet>
                        <ui:fragment rendered="#{user.modernS}">
                            <h:outputText value="Yes" />
                        </ui:fragment>
                        <ui:fragment rendered="#{!user.modernS}">
                            <h:outputText value="No" />
                        </ui:fragment>
                    </h:column>
                    <h:column>
                        <f:facet id="idTableManagementUsersColHeaderHistoricM" name = "header">Into Historic</f:facet>
                        <ui:fragment rendered="#{user.historicS}">
                            <h:outputText value="Yes" />
                        </ui:fragment>
                        <ui:fragment rendered="#{!user.historicS}">
                            <h:outputText value="No" />
                        </ui:fragment>
                    </h:column>
                    <h:column>
                        <f:facet id="idTableManagementUsersColHeaderPrehistoricM" name = "header">Into Prehistoric</f:facet>
                        <ui:fragment rendered="#{user.prehistoricS}">
                            <h:outputText value="Yes" />
                        </ui:fragment>
                        <ui:fragment rendered="#{!user.prehistoricS}">
                            <h:outputText value="No" />
                        </ui:fragment>
                    </h:column>
                    <h:column>
                        <f:facet id="idTableManagementUsersColHeaderComicsM" name = "header">Into Comics</f:facet>
                        <ui:fragment rendered="#{user.comicsS}">
                            <h:outputText value="Yes" />
                        </ui:fragment>
                        <ui:fragment rendered="#{!user.comicsS}">
                            <h:outputText value="No" />
                        </ui:fragment>
                    </h:column>
                    <h:column>
                        <f:facet id="idTableManagementUsersColHeaderPeriodM" name = "header">Into Period</f:facet>
                        <ui:fragment rendered="#{user.periodS}">
                            <h:outputText value="Yes" />
                        </ui:fragment>
                        <ui:fragment rendered="#{!user.periodS}">
                            <h:outputText value="No" />
                        </ui:fragment>
                    </h:column>
                    <h:column>
                        <f:facet id="idTableManagementUsersColHeaderLoggedOn" name = "header">Online</f:facet>
                        <ui:fragment rendered="#{user.loggedOn}">
                            <h:outputText value="Yes" />
                        </ui:fragment>
                        <ui:fragment rendered="#{!user.loggedOn}">
                            <h:outputText value="No" />
                        </ui:fragment>
                    </h:column>
                </h:dataTable>
            </p>
        </c:when>
    </c:choose>
</html>

